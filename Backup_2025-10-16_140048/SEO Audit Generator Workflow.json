{
  "createdAt": "2025-10-14T19:34:00.040Z",
  "updatedAt": "2025-10-15T13:51:28.000Z",
  "id": "M4zEE7ugqBmJaRx4",
  "name": "SEO Audit Generator Workflow",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "formTitle": "SEO Audit Generator",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Enter Website Url",
              "placeholder": "https://chatgpt.com/",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        272,
        -32
      ],
      "id": "c0731581-26dc-4584-b972-b0d3e2902bd0",
      "name": "On form submission",
      "webhookId": "2d806a17-4c77-4f79-a25f-06d2c4ff8033"
    },
    {
      "parameters": {
        "url": "=https://www.googleapis.com/webmasters/v3/sites",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        576,
        224
      ],
      "id": "39595ff8-c095-4d85-a6ce-d73be7524313",
      "name": "Search Console",
      "credentials": {
        "googleOAuth2Api": {
          "id": "NmfuLtqzpgl2TtiS",
          "name": "Google account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://www.googleapis.com/webmasters/v3/sites/{{ $json.siteEntry[1].siteUrl }}/searchAnalytics/query",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"startDate\": \"2025-08-01\",\n  \"endDate\": \"2025-08-31\",\n  \"dimensions\": [\"date\", \"query\", \"page\", \"country\", \"device\"],\n  \"rowLimit\": 25000,\n  \"startRow\": 0,\n  \"aggregationType\": \"auto\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        784,
        224
      ],
      "id": "177988f4-3aa9-4dc4-9aec-8fcbdab2f11b",
      "name": "Search console API",
      "credentials": {
        "googleOAuth2Api": {
          "id": "NmfuLtqzpgl2TtiS",
          "name": "Google account"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.seranking.com/sites",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "target",
              "value": "={{ $json['Enter Website Url'] }}"
            },
            {
              "name": "mode",
              "value": "host"
            },
            {
              "name": "output",
              "value": "json"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Check",
              "value": "4ad39172-c8ff-f988-29b2-d511d3f9fbac"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        576,
        64
      ],
      "id": "67006709-00d5-48ae-81fd-5c476c8e35b9",
      "name": "SE RANKING"
    },
    {
      "parameters": {
        "jsCode": "for (const item of items) {\n  const lighthouseData = item.json;\n\n  if (lighthouseData && lighthouseData.lighthouseResult) {\n    const audits = lighthouseData.lighthouseResult.audits;\n    const categories = lighthouseData.lighthouseResult.categories;\n\n    const outputData = {\n      // General SEO Score\n      finalUrl: lighthouseData.lighthouseResult.finalUrl,\n      seoScore: categories.seo?.score * 100,\n\n      // SEO Audit Details - All these audits have a score of 1 in your data, indicating \"passed\"\n      // They are useful for confirming that core SEO elements are in place.\n      documentTitle: {\n        title: audits['document-title']?.title,\n        score: audits['document-title']?.score,\n      },\n      metaDescription: {\n        title: audits['meta-description']?.title,\n        score: audits['meta-description']?.score,\n      },\n      httpStatusCode: {\n        title: audits['http-status-code']?.title,\n        score: audits['http-status-code']?.score,\n      },\n      robotsTxt: {\n        title: audits['robots-txt']?.title,\n        score: audits['robots-txt']?.score,\n      },\n      linkText: {\n        title: audits['link-text']?.title,\n        score: audits['link-text']?.score,\n      },\n      crawlableAnchors: {\n        title: audits['crawlable-anchors']?.title,\n        score: audits['crawlable-anchors']?.score,\n      },\n      pageIsCrawlable: {\n        title: audits['is-crawlable']?.title,\n        score: audits['is-crawlable']?.score,\n      },\n      imageAlts: {\n        title: audits['image-alt']?.title,\n        score: audits['image-alt']?.score,\n      },\n      hreflang: {\n        title: audits['hreflang']?.title,\n        score: audits['hreflang']?.score,\n      },\n    };\n\n    return [{\n      json: outputData\n    }];\n  }\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        784,
        -320
      ],
      "id": "328cd3eb-597c-4c9d-8c50-42f1a89937c3",
      "name": "Extract SEO data"
    },
    {
      "parameters": {
        "jsCode": "for (const item of items) {\n  const lighthouseData = item.json;\n\n  if (lighthouseData && lighthouseData.lighthouseResult) {\n    const audits = lighthouseData.lighthouseResult.audits;\n    const categories = lighthouseData.lighthouseResult.categories;\n    const loadingExperience = lighthouseData.loadingExperience;\n\n    // A check to handle cases where 'performance' might not be in the categories\n    const performanceCategory = categories.performance;\n\n    if (!performanceCategory) {\n      continue;\n    }\n\n    const outputData = {\n      // General Scores & URL\n      finalUrl: lighthouseData.lighthouseResult.finalUrl,\n      performanceScore: performanceCategory.score * 100,\n      \n      // Core Web Vitals (Lab Data from Lighthouse)\n      largestContentfulPaint_lab: audits['largest-contentful-paint']?.displayValue,\n      cumulativeLayoutShift_lab: audits['cumulative-layout-shift']?.displayValue,\n      totalBlockingTime_lab: audits['total-blocking-time']?.displayValue,\n      speedIndex_lab: audits['speed-index']?.displayValue,\n      firstContentfulPaint_lab: audits['first-contentful-paint']?.displayValue,\n      interactive_lab: audits['interactive']?.displayValue,\n      \n      // Core Web Vitals (Real-World Data from Chrome User Experience Report)\n      // Note: This data is often more reflective of actual user experience\n      realWorldCLS_category: loadingExperience?.metrics?.CUMULATIVE_LAYOUT_SHIFT_SCORE?.category,\n      realWorldLCP_category: loadingExperience?.metrics?.LARGEST_CONTENTFUL_PAINT_MS?.category,\n      realWorldINP_category: loadingExperience?.metrics?.INTERACTION_TO_NEXT_PAINT?.category,\n      realWorldFCP_category: loadingExperience?.metrics?.FIRST_CONTENTFUL_PAINT_MS?.category,\n\n      // Key Opportunities & Actionable Recommendations\n      renderBlockingResources: {\n        title: audits['render-blocking-resources']?.title,\n        savingsMs: audits['render-blocking-resources']?.details?.overallSavingsMs || 0,\n        items: audits['render-blocking-resources']?.details?.items || []\n      },\n      imageDelivery: {\n        title: audits['image-delivery-insight']?.title,\n        savingsBytes: audits['image-delivery-insight']?.details?.overallSavingsBytes || 0,\n        items: audits['image-delivery-insight']?.details?.items || []\n      },\n      longTasks: {\n        title: audits['long-tasks']?.title,\n        value: audits['long-tasks']?.displayValue,\n        items: audits['long-tasks']?.details?.items || []\n      },\n      serverResponseTime: {\n        title: audits['server-response-time']?.title,\n        value: audits['server-response-time']?.displayValue,\n        savingsMs: audits['server-response-time']?.details?.overallSavingsMs || 0\n      },\n      cachePolicy: {\n        title: audits['uses-long-cache-ttl']?.title,\n        savingsBytes: audits['uses-long-cache-ttl']?.details?.summary?.wastedBytes || 0,\n        items: audits['uses-long-cache-ttl']?.details?.items || []\n      },\n      totalByteWeight: {\n        title: audits['total-byte-weight']?.title,\n        totalBytes: audits['total-byte-weight']?.numericValue || 0,\n        items: audits['total-byte-weight']?.details?.items || []\n      },\n      preconnectedOrigins: {\n        title: \"Preconnect Origins\",\n        items: audits['network-dependency-tree-insight']?.details?.items.find(i => i.title === 'Preconnect candidates')?.value?.items || []\n      }\n    };\n\n    return [{ json: outputData }];\n  }\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        784,
        -144
      ],
      "id": "8b8268fa-89a3-44d6-a962-1f55f621d12f",
      "name": "Extract Performance data"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/pagespeedonline/v5/runPagespeed",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $json[\"Enter Website Url\"] }}"
            },
            {
              "name": "key",
              "value": "AIzaSyDLBMj7K4jvILNB7jfwdSJ5F47Sx9bwRd4"
            },
            {
              "name": "category",
              "value": "performance"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        576,
        -144
      ],
      "id": "8722a30d-8dfe-429e-900d-e2bb4cd180fa",
      "name": "Lighthouse - Performance"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/pagespeedonline/v5/runPagespeed",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $json[\"Enter Website Url\"] }}"
            },
            {
              "name": "key",
              "value": "AIzaSyDLBMj7K4jvILNB7jfwdSJ5F47Sx9bwRd4"
            },
            {
              "name": "category",
              "value": "seo"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        576,
        -320
      ],
      "id": "930b31fe-5e39-4a42-ad0b-66b958a8fbc3",
      "name": "Lighthouse - SEO"
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1136,
        -96
      ],
      "id": "92086fac-fe57-45ab-ab8f-5177209ceef2",
      "name": "Merge"
    }
  ],
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Lighthouse - SEO",
            "type": "main",
            "index": 0
          },
          {
            "node": "Lighthouse - Performance",
            "type": "main",
            "index": 0
          },
          {
            "node": "SE RANKING",
            "type": "main",
            "index": 0
          },
          {
            "node": "Search Console",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search Console": {
      "main": [
        [
          {
            "node": "Search console API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lighthouse - Performance": {
      "main": [
        [
          {
            "node": "Extract Performance data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lighthouse - SEO": {
      "main": [
        [
          {
            "node": "Extract SEO data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract SEO data": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Performance data": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Search console API": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "SE RANKING": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "5fe1d87a-7505-4a4f-b610-514633b2ba6e",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-10-14T19:34:00.045Z",
      "updatedAt": "2025-10-14T19:34:00.045Z",
      "role": "workflow:owner",
      "workflowId": "M4zEE7ugqBmJaRx4",
      "projectId": "nnULjHyqOVknXpmc"
    }
  ],
  "tags": []
}